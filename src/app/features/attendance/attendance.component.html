<section class="page">
  <h2>Attendance Management</h2>

  <div class="grid">
    <div class="card clock">
      <div class="clock-time">{{ now() | date:'h:mm:ss a' }}</div>
      <div class="clock-date">{{ now() | date:'fullDate' }}</div>
      <button class="toggle" [class.on]="isClockedIn()" (click)="toggleClock()">
        <div class="flexcol">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon" aria-hidden="true">
            <path d="M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"></path>
          </svg>
          <span class="label">{{ isClockedIn() ? 'Clock Out' : 'Clock In' }}</span>
        </div>
      </button>
      <div class="clock-status">Status: <strong>{{ isClockedIn() ? 'Clocked In' : 'Clocked Out' }}</strong></div>
    </div>

    <div class="card">
      <div class="card-title">Attendance History</div>
      <table class="table">
        <thead><tr><th>Date</th><th>Clock In</th><th>Clock Out</th><th>Hours</th><th>Status</th></tr></thead>
        <tbody>
          <tr *ngFor="let r of records()">
            <td>{{ r.date }}</td>
            <td>{{ r.in }}</td>
            <td>{{ r.out || '--' }}</td>
            <td>{{ r.total || '--' }}</td>
            <td><span class="badge" [class.present]="!!r.in" [class.absent]="!r.in">{{ r.in ? 'Present' : 'Absent' }}</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</section>


