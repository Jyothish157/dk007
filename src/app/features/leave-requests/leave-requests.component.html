<section class="page">
  <h2>Leave Management</h2>
  <form class="form" (ngSubmit)="submit()">
    <label>
      Type
      <select [(ngModel)]="form.type" name="type" required>
        <option *ngFor="let t of types" [value]="t">{{t}}</option>
      </select>
    </label>
    <label>
      From
      <input type="date" [(ngModel)]="form.from" name="from" required />
    </label>
    <label>
      To
      <input type="date" [(ngModel)]="form.to" name="to" required />
    </label>
    <label>
      Reason
      <input type="text" [(ngModel)]="form.reason" name="reason" placeholder="Optional" />
    </label>
    <button class="btn primary">New Leave Request</button>
  </form>
  <div class="card">
    <div class="card-title">Leave Requests History</div>
    <table class="table">
      <thead><tr><th>Type</th><th>Start Date</th><th>End Date</th><th>Days</th><th>Status</th><th>Reason</th></tr></thead>
      <tbody>
        <tr *ngFor="let r of requests">
          <td>{{ r.type }}</td>
          <td>{{ r.from }}</td>
          <td>{{ r.to }}</td>
          <td>{{ calcDays(r.from,r.to) }}</td>
          <td><span class="badge" [class.approved]="r.status==='Approved'" [class.pending]="r.status==='Pending'" [class.rejected]="r.status==='Rejected'">{{ r.status }}</span></td>
          <td>{{ r.reason || '-' }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>


